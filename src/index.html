<%
  var data = {
    title: 'Агропланета',
    status: true,
  }

  var nav = ['Отследить заказ', 'Доставка и оплата', 'Сообщить о проблеме', 'Гарантия', 'Контакты', 'Популярные вопросы']

  var icon = _.template(require('./components/icon.html').default)
  var picture = _.template(require('./components/picture.html').default)
  var loader = _.template(require('./components/loader.html').default)({icon})
  var preloader = _.template(require('./components/preloader.html').default)({icon})
  var search = _.template(require('./components/search.html').default)
  var social = _.template(require('./components/social.html').default)({picture})
  var slide = _.template(require('./components/slide.html').default)
  var swiperButtonPrev = _.template(require('./components/swiper-button-prev.html').default)({icon})
  var swiperButtonNext = _.template(require('./components/swiper-button-next.html').default)({icon})
  var title = _.template(require('./components/title.html').default)
  var primalTitle = _.template(require('./components/primal-title.html').default)
  var cardCatalog = _.template(require('./components/card-catalog.html').default)({picture})
  var delivery = _.template(require('./components/delivery.html').default)({picture})
  var cardStock = _.template(require('./components/card-stock.html').default)({loader, picture, icon})
  var nameplate = _.template(require('./components/nameplate.html').default)
  var preOrder = _.template(require('./components/pre-order.html').default)
  var like = _.template(require('./components/like.html').default)
  var quantity = require('./components/quantity.html').default
  var cardProduct = _.template(require('./components/card-product.html').default)
  var header = _.template(require('./includes/header.html').default)
  var footer = _.template(require('./includes/footer.html').default)
%>

<%= header({data, nav, loader, preloader, icon, picture, search, social}) %>

<!-- Первоначальный блок -->

<section class="container overflow-hidden primal">
  <div class="relative primal-slider">
    <div class="px-4 -mx-4 swiper sm:px-0 sm:mx-0">
      <div class="swiper-wrapper">
        <% for (var i = 0; i < 6; i++) { %>
        <div class="h-auto swiper-slide">
          <%= slide({loader, picture, button: true, swiper: true}) %>
        </div>
        <% } %>
      </div>
    </div>
    <%= swiperButtonPrev %>
    <%= swiperButtonNext %>
  </div>
</section>

<!-- Саженцы от Агропланеты -->

<section class="container pt-0">
  <%= primalTitle({title, icon, text: 'Саженцы от Агропланеты', className: 'mb-4 sm:mb-8'}) %>
  <div class="grid grid-cols-2 gap-2 sm:grid-cols-3 sm:gap-5 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6">
    <% for (var i = 0; i < 11; i++) { %>
    <%= cardCatalog %>
    <% } %>
    <a class="border border-solid card border-primary bg-primary/10 hover:bg-primary/50 min-h-40 sm:min-h-44 card-active" data-waved="dark" draggable="false" href="">
      <div class="flex-row items-center justify-center px-4 py-2 card-content">
        <h4 class="text-sm font-medium leading-tight text-center">Все категории</h4>
        <%= icon({id: 'arrow-right', className: 'icon text-sm ml-1', data: false}) %>
      </div>
    </a>
  </div>
  <div class="relative gap-5 px-4 py-8 mt-8 -mx-4 md:flex md:items-center sm:px-6 lg:px-8 lg:mt-12 bg-blue sm:rounded-3xl min-h-96 md:min-h-28 sm:mx-0">
    <%= picture({src: 'img/pictures/basket', format: 'png', className: 'absolute bottom-0 left-0 md:left-auto right-0 md:right-6 w-full max-w-80 md:max-w-60 mx-auto ms:mx-0', data: false}) %>
    <div class="relative flex flex-col gap-8 lg:items-center lg:gap-20 lg:flex-row">
      <h3 class="text-2xl font-bold leading-tight font-alt">Доставим саженцы любым удобным <br class="hidden sm:block"> для вас способом</h3>
      <%= delivery %>
    </div>
  </div>
</section>

<!-- Наши акции -->

<section class="container pt-0">
  <div class="flex flex-col gap-2 mb-6 sm:flex-row sm:items-center sm:justify-between sm:mb-8">
    <%= primalTitle({title, icon, text: 'Наши акции', className: null}) %>
    <div class="flex items-center">
      <span class="mr-2 rounded-full size-2 shrink-0 bg-red"></span>
      <h3 class="text-lg font-bold leading-none font-alt">Более 20 акций на сайте</h3>
    </div>
  </div>
  <div class="grid grid-cols-2 gap-2 sm:gap-4 lg:gap-6 lg:grid-cols-3 xl:grid-cols-4">
    <% for (var i = 0; i < 4; i++) { %>
    <%= cardStock %>
    <% } %>
  </div>
</section>

<!-- Новинки -->

<% var production = [
  {
    names: ['discount', 'hit'],
    color: 'blue',
    active: true,
    discount: true
  },
  {
    names: ['hit', 'new'],
    color: 'orange',
    active: false,
    discount: false
  },
  {
    names: ['new'],
    color: 'blue',
    active: true,
    discount: false
  },
  {
    names: null,
    color: 'orange',
    active: false,
    discount: true
  },
] %>

<section class="container pt-0 overflow-hidden production">
  <%= primalTitle({title, icon, text: 'Новинки', className: 'mb-4 sm:mb-8'}) %>
  <div class="relative flex flex-col gap-4 md:flex-row md:justify-between lg:gap-6">
    <div class="w-full md:max-w-[352px] lg:max-w-[400px]">
      <%= slide({loader, picture, button: true, swiper: false}) %>
    </div>
    <div class="w-full md:max-w-[352px] lg:max-w-[510px] xl:max-w-[805px] production-slider">
      <div class="h-full px-4 -mx-4 swiper sm:mx-0 sm:px-0">
        <div class="swiper-wrapper">
          <% _.forEach((production), (item) => { %>
          <div class="h-auto swiper-slide">
            <%= cardProduct({loader, picture, nameplate, preOrder, like, quantity, icon, names: item.names, color: item.color, active: item.active, discount: item.discount}) %>
          </div>
          <% }) %>
        </div>
      </div>
      <%= swiperButtonPrev %>
      <%= swiperButtonNext %>
    </div>
  </div>
</section>

<!-- <section class="container">
  <div class="grid grid-cols-2 gap-2 md:gap-6 lg:grid-cols-3 xl:grid-cols-4">
    <% _.forEach((production), (item) => { %>
    <%= cardProduct({loader, picture, nameplate, preOrder, like, quantity, icon, names: item.names, color: item.color, active: item.active, discount: item.discount}) %>
    <% }) %>
  </div>
</section> -->

<%= footer({data, nav, loader, picture}) %>